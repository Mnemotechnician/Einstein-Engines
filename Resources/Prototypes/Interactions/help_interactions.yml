# Combines waking up, helping from stun, and forcing to stand.
- type: Interaction
  id: HelpUp
  parent: [BaseDelayedPopup, BaseFailable, BaseHands, BaseGlobal]
  priority: -5
  range: {max: 1.2}
  delay: 1.5
  hideByRequirement: true
  requirement:
    !type:StandingStateRequirement
    allowLaying: true
    allowKnockedDown: true
  action:
    !type:ComplexAction
    requireAll: false
    actions:
    - !type:ToggleSleepingAction
      wakeUp: true
    - !type:ChangeStandingStateAction
      makeStanding: true
    - !type:ModifyStatusEffectAction
      effect: KnockedDown
      timeAdded: -2.5 # 1.5 seconds delay to remove 2.5 seconds of stun - should be good enough.

- type: Interaction
  id: ForceDown
  parent: [BaseDelayedPopup, BaseFailable, BaseHands, BaseGlobal]
  priority: -5
  range: {max: 1.2}
  delay: 3.5
  hideByRequirement: true
  requirement:
    !type:StandingStateRequirement
    allowStanding: true
  action:
    !type:ChangeStandingStateAction
    makeLaying: true

- type: Interaction
  id: MakeSleepOther
  parent: [BaseDelayedPopup, BaseHands, BaseGlobal]
  priority: -6
  range: {max: 1.2}
  delay: 10 # Should be long enough to be non-abusable, right?
  hideByRequirement: true
  requirement:
    !type:ComplexRequirement
    requirements:
      - !type:StandingStateRequirement
        allowLaying: true
        allowKnockedDown: true
      - !type:MobStateRequirement
        allowedStates: [Alive, Critical]
  action:
    !type:ToggleSleepingAction
    sleep: true
